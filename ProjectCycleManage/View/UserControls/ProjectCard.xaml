<UserControl x:Class="ProjectCycleManage.View.ProjectCard"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:ProjectCycleManage.View"
             xmlns:draw="clr-namespace:DrawerTest;assembly=DrawerTest"
             mc:Ignorable="d" 
             Name="UC_ProjectCard"
             Height="225"
             Width="309"
             d:DesignHeight="225" 
             d:DesignWidth="309">
    <Grid DataContext="{Binding ElementName=UC_ProjectCard}">
        <Border Background="White"
                CornerRadius="15">
            <Border.Effect>
                <DropShadowEffect Color="Black" 
                                  Direction="5" 
                                  ShadowDepth="5" 
                                  Opacity="0.3" 
                                  BlurRadius="10"/>
            </Border.Effect>
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="45"/>
                    <RowDefinition Height="103"/>
                    <RowDefinition/>
                </Grid.RowDefinitions>

                <Grid Margin="19 0 19 0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/>
                        <ColumnDefinition Width="105"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Grid.Column="0"
                               Text="{Binding ProjectName,ElementName=UC_ProjectCard}"
                               FontSize="16"
                               FontWeight="Bold"
                               FontFamily="Microsoft YaHei"
                               VerticalAlignment="Bottom"/>
                    <Border Grid.Column="1"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Bottom">
                        <draw:ProjectProgressInfo Width="82"
                                                  Height="20"
                                                  HorizontalContentAlignment="Right"
                                                  ContentText="{Binding RunningStatus}"
                                                  BeltColor="{Binding BackColor}"
                                                  TextColor="{Binding FontColor}"
                                                  Margin="0 0 0 0"/>
                    </Border>
                </Grid>

                <Grid Grid.Row="1"
                      Margin="19 0 19 0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="44"/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>

                    <Grid>

                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="112"/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>

                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="负责人 ："
                                       FontSize="12"
                                       Foreground="#666666"
                                       VerticalAlignment="Bottom"
                                       Margin="0 0 0 3"/>
                            <TextBlock Text="{Binding ProjectLeader}"
                                       FontSize="12"
                                       Foreground="#666666"
                                       VerticalAlignment="Bottom"
                                       Margin="0 0 0 3"/>
                        </StackPanel>

                        <StackPanel Grid.Column="1"
                                    Orientation="Horizontal"
                                    Margin="17 0 0 0">
                            <TextBlock Text="开始时间 ："
                                       FontSize="12"
                                       Foreground="#666666"
                                       VerticalAlignment="Bottom"
                                       Margin="0 0 0 3"/>
                            <TextBlock Text="{Binding StartTime}"
                                       FontSize="12"
                                       Foreground="#666666"
                                       VerticalAlignment="Bottom"
                                       Margin="0 0 0 3"/>
                        </StackPanel>

                    </Grid>

                    <Grid Grid.Row="1">

                        <Grid.RowDefinitions>
                            <RowDefinition Height="35"/>
                            <RowDefinition/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>

                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="当前阶段 ："
                                       FontSize="12"
                                       Foreground="#666666"
                                       VerticalAlignment="Bottom"
                                       Margin="0 0 0 0"/>
                            <TextBlock Text="{Binding ProjectStatus}"
                                       FontSize="12"
                                       Foreground="#666666"
                                       VerticalAlignment="Bottom"
                                       Margin="0 0 0 0"/>
                        </StackPanel>

                        <StackPanel Orientation="Horizontal"
                                    HorizontalAlignment="Right"
                                    Grid.Column="1">
                            <TextBlock Text="{Binding ProjectStatusProgress}"
                                       FontSize="12"
                                       Foreground="#666666"
                                       VerticalAlignment="Bottom"
                                       Margin="0 0 5 0"/>
                            <TextBlock Text="%"
                                       FontSize="12"
                                       Foreground="#666666"
                                       VerticalAlignment="Bottom"
                                       Margin="0 0 0 0"/>
                        </StackPanel>

                        <Border Grid.Row="1"
                                Grid.ColumnSpan="2"
                                VerticalAlignment="Top"
                                Margin=" 0 10 0 0">
                            <ProgressBar Value="{Binding ProjectStatusProgressdouble}"
                                         Height="5"
                                         Margin="0"
                                         BorderThickness="0"
                                         Foreground="#1684FC"/>
                        </Border>
                    </Grid>
                </Grid>

                <Grid Grid.Row="2"
                      Margin="19 0 19 0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>

                    <Button Width="96"
                            Height="36"
                            Foreground="#666666"
                            Command="{Binding ViewDetails}"
                            BorderThickness="1"
                            FontSize="14"
                            Background="White"
                            Content="查看详情"/>

                    <Button Grid.Column="1"
                            Width="96"
                            Height="36"
                            Content="项目暂停"
                            IsEnabled="{Binding SuspendBtnEn}"
                            Visibility="{Binding SuspendBtnVb}"
                            Command="{Binding SuspendProject}"
                            Foreground="White"
                            Background="#2D5BD6"
                            FontSize="14"
                            BorderThickness="0"/>

                    <Button Grid.Column="1"
                            Width="96"
                            Height="36"
                            Visibility="{Binding RestartBtnVb}"
                            Command="{Binding RestartProject}"
                            Content="重新启动"
                            Foreground="White"
                            Background="#2D5BD6"
                            FontSize="14"
                            BorderThickness="0"/>
                </Grid>
            </Grid>

        </Border>
    </Grid>
</UserControl>
